@using Dolphin.Freight.Localization;
@using Microsoft.Extensions.Localization;
@using Dolphin.Freight.Web.Pages.Components
@using Dolphin.Freight.Web.CommonService;
@model Dolphin.Freight.ImportExport.AirImports.AirImportDetails
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Modal
@inject IStringLocalizer<FreightResource> L
@inject IDropdownService _dropdown
@{
    Layout = null;
}
<style>
    .sortable-list__item {
        padding: 5px 22px 5px 7px;
        color: #fff;
        margin-bottom: 5px;
        background: #AAAAAA url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgNyAxMCIgd2lkdGg9IjciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTggMTdjLjU1MjI4NDc1IDAgMSAuNDQ3NzE1MyAxIDFzLS40NDc3MTUyNSAxLTEgMS0xLS40NDc3MTUzLTEtMSAuNDQ3NzE1MjUtMSAxLTF6bTUgMGMuNTUyMjg0NyAwIDEgLjQ0NzcxNTMgMSAxcy0uNDQ3NzE1MyAxLTEgMS0xLS40NDc3MTUzLTEtMSAuNDQ3NzE1My0xIDEtMXptLTUtNGMuNTUyMjg0NzUgMCAxIC40NDc3MTUzIDEgMXMtLjQ0NzcxNTI1IDEtMSAxLTEtLjQ0NzcxNTMtMS0xIC40NDc3MTUyNS0xIDEtMXptNSAwYy41NTIyODQ3IDAgMSAuNDQ3NzE1MyAxIDFzLS40NDc3MTUzIDEtMSAxLTEtLjQ0NzcxNTMtMS0xIC40NDc3MTUzLTEgMS0xem0tNS00Yy41NTIyODQ3NSAwIDEgLjQ0NzcxNTI1IDEgMSAwIC41NTIyODQ3LS40NDc3MTUyNSAxLTEgMXMtMS0uNDQ3NzE1My0xLTFjMC0uNTUyMjg0NzUuNDQ3NzE1MjUtMSAxLTF6bTUgMGMuNTUyMjg0NyAwIDEgLjQ0NzcxNTI1IDEgMSAwIC41NTIyODQ3LS40NDc3MTUzIDEtMSAxcy0xLS40NDc3MTUzLTEtMWMwLS41NTIyODQ3NS40NDc3MTUzLTEgMS0xeiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBvcGFjaXR5PSIuNTAzOTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03IC05KSIvPjwvc3ZnPg==) calc(100% - 8px) 10px no-repeat;
    }
</style>
<script>
    function updateMawbParent() {
        var mawbId = $("#Id").val();
        $.ajax({
            url: abp.appPath + 'Docs/AirImportChangeMawbParent?mawbId=' + mawbId +'&hawbId=@Model.HawbId',
            type: 'post',
            dataType: "html",
            success: function (res) {
                $('.modal-content').html(res);
                $('.modal').modal('show');
            }
        });
    }
</script>
<form id="frmManifest" data-check-form-on-close="false">

    <abp-modal>
        <abp-modal-header title="@L["HBLMBL"]"></abp-modal-header>
        
        <abp-modal-body>
            <label class="form-label">@L["MoveHBLtoOtherMBL"]</label>
            @await Component.InvokeAsync(typeof(DropdownComponent), new ComponentData { Name = "Id", AspItems = _dropdown.MawbLookupList, IsShowLabel = true, FieldName = "", SelectType = 0, ShowFiledContentValue = "" })
        </abp-modal-body>
        <abp-modal-footer>
           <abp-button id="btnManifestCancel"
                        text="@L["Btn:Cancel"].Value"
                        button-type="Default"
                        onclick="ManifestCancel()" />
            <abp-button id="btnManifestSave"
                        text="@L["Btn:Ok"].Value"
                        button-type="Primary"
                        onclick="updateMawbParent()" />
        </abp-modal-footer>
        @*<abp-modal-footer buttons="@(AbpModalButtons.Cancel|AbpModalButtons.Save)"></abp-modal-footer>*@
    </abp-modal>

   @* <abp-modal>
        <h5 class="modal-title" style="color: black; padding: 1rem;">HAWB move to other MAWB</h5>
        <abp-modal-body class="overflow-auto" style="height:200px;">
            <div class="mb-3">
                <label style="color: black;>Please select which MB/L would you like to move HB/L to?</label>
                <div class="input-group">
                    @await Component.InvokeAsync(typeof(DropdownComponent), new ComponentData { Name = "Id", AspItems = _dropdown.MawbLookupList, IsShowLabel = true, FieldName = "", SelectType = 0, ShowFiledContentValue = "" })
                </div>
            </div>
            <br/>
        </abp-modal-body>
         <abp-modal-footer>
            <abp-button id="btnManifestCancel"
                        text="@L["Btn:Cancel"].Value"
                        button-type="Default"
                        onclick="ManifestCancel()" />
            <abp-button id="btnManifestSave"
                        text="@L["Btn:Ok"].Value"
                        button-type="Primary"
                        onclick="updateMawbParent()" />
        </abp-modal-footer>*@
       @* <h5 class="modal-title" style="color: black; padding: 1rem;">HAWB move to other MAWB</h5>
        <abp-modal-body class="overflow-auto" style="height:200px;">
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-group form-full">
                        @await Component.InvokeAsync(typeof(DropdownComponent), new ComponentData { Name = "Id", AspItems = _dropdown.MawbLookupList, IsShowLabel = true, FieldName = "", SelectType = 0, ShowFiledContentValue = "" })
                    </div>
                </div>
               
        </abp-modal-body>
        <abp-modal-footer>
            <abp-button id="btnManifestCancel"
                        text="Cancel"
                        button-type="Default"
                        onclick="ManifestCancel()" />
            <abp-button id="btnManifestSave"
                        text="Ok"
                        button-type="Primary"
                        onclick="updateMawbParent()" />
        </abp-modal-footer>*@
    @*</abp-modal>*@
</form>